---
import BaseLayout from '../layouts/BaseLayout.astro';
import { loadContributing } from '../data/loader';
import { marked } from 'marked';

const raw = loadContributing();
const html = await marked.parse(raw);
---

<BaseLayout title="Contribute">
  <div class="container container--sm">
    <div class="section-header">
      <h1>Contribute</h1>
    </div>
    <article class="prose" set:html={html} />
  </div>
</BaseLayout>

<style>
  .prose {
    color: var(--c-text);
    line-height: var(--lh);
    font-size: var(--fs-base);
  }

  .prose :global(h1),
  .prose :global(h2),
  .prose :global(h3),
  .prose :global(h4) {
    font-family: var(--font-mono);
    color: var(--c-text-heading);
    line-height: var(--lh-tight);
    margin-top: var(--sp-8);
    margin-bottom: var(--sp-4);
  }

  .prose :global(h1) { font-size: var(--fs-2xl); }
  .prose :global(h2) { font-size: var(--fs-xl); }
  .prose :global(h3) { font-size: var(--fs-lg); }
  .prose :global(h4) { font-size: var(--fs-md); }

  .prose :global(p) {
    margin-bottom: var(--sp-4);
  }

  .prose :global(ul),
  .prose :global(ol) {
    padding-left: var(--sp-6);
    margin-bottom: var(--sp-4);
  }

  .prose :global(ul) { list-style: disc; }
  .prose :global(ol) { list-style: decimal; }

  .prose :global(li) {
    margin-bottom: var(--sp-2);
  }

  .prose :global(li > ul),
  .prose :global(li > ol) {
    margin-top: var(--sp-2);
    margin-bottom: 0;
  }

  .prose :global(a) {
    color: var(--c-accent);
    text-decoration: underline;
    text-underline-offset: 2px;
  }

  .prose :global(a:hover) {
    opacity: 0.8;
  }

  .prose :global(code) {
    font-family: var(--font-mono);
    font-size: var(--fs-sm);
    background: var(--c-surface);
    padding: 0.15em 0.4em;
    border-radius: var(--r-sm);
  }

  .prose :global(pre) {
    background: var(--c-surface);
    border: 1px solid var(--c-border);
    border-radius: var(--r-md);
    padding: var(--sp-4);
    overflow-x: auto;
    margin-bottom: var(--sp-4);
  }

  .prose :global(pre code) {
    background: none;
    padding: 0;
  }

  .prose :global(blockquote) {
    border-left: 3px solid var(--c-accent-dim);
    padding-left: var(--sp-4);
    color: var(--c-text-muted);
    margin-bottom: var(--sp-4);
  }

  .prose :global(hr) {
    border: none;
    border-top: 1px solid var(--c-border);
    margin: var(--sp-8) 0;
  }

  .prose :global(table) {
    width: 100%;
    border-collapse: collapse;
    margin-bottom: var(--sp-4);
  }

  .prose :global(th),
  .prose :global(td) {
    border: 1px solid var(--c-border);
    padding: var(--sp-2) var(--sp-3);
    text-align: left;
  }

  .prose :global(th) {
    background: var(--c-surface);
    font-family: var(--font-mono);
    font-size: var(--fs-sm);
    color: var(--c-text-heading);
  }
</style>
